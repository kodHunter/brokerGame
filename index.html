<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Broker Game</title>
    <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1/jquery.min.js"></script>
    <!-- <script type="text/javascript" src="http:/pjax.googleapis.compjax/libs/jquery/1/jquery.min.js"></script> -->
    <!-- <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.5.0/jquery.min.js"></script> -->
    <!-- <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jqueryui/1.8.9/jquery-ui.min.js"></script> -->
    <!-- <script src="http://code.jquery.com/jquery-1.9.1.js"></script> -->
    <link href="http://fonts.googleapis.com/css?family=Open+Sans:400,600,700&subset=latin,cyrillic" rel="stylesheet" type="text/css" media="all" />
    <link rel="stylesheet" type="text/css" href="Reset.css" media="all" />
    <link rel="stylesheet" type="text/css" href="BrokerGame.css" media="all" />
</head>

<body>
    <div class="game">
        <div class="general">
            <ul class="shareList">
                <li>
                    <p><img src="bukovel.png" /></p>
                    <h1 id="rl1">50</h1>
                </li>
                <li>
                    <p><img src="newpost.png" /><p>
                    <h1 id="rl2">50</h1>
                </li>
                <li>
                    <p><img src="privat24.png" /><p>
                    <h1 id="rl3">50</h1>
                </li>
                <li>
                    <p><img src="kbug.png" /><p>
                    <h1 id="rl4">50</h1>
                </li>
            </ul>
            <div class="board">
                <ul>
                    <li class="scale" id="s1">
                </ul>
                <ul>
                    <li class="scale" id="s2">
                </ul>
                <ul>
                    <li class="scale" id="s3">
                </ul>
                <ul>
                    <li class="scale" id="s4">
                </ul>
                <p class="" id="inf"> Правила игры.
                    <br> BROKER - экономическая игра имитирующая торговлю акциями на бирже.
                    <br> Игроки в количестве от 1-го до 4-х человек выступают в роли биржевых торговцев и
                    <br> осуществляют куплю/продажу акций с целью увеличения своего капитала.
                    <br> В начале игры каждый учасник получает в свое распоряжение 1000$ игровых
                    <br> денежных единиц, по 50 акций каждого из 4-х передприятий и 10 карточек
                    <br> изменяющих текущие курсы акций.
                    <br> В начале хода игрок покупает/продает любо количество любых акций, в пределах
                    <br> текущих возможностей, по своему усмотрению, а зетем выбирает одну из карточек
                    <br> для изменения курсов. Курсы акций изменяются согласно выбранной карточке
                    <br> (карточка в игре больше не участвует). Таким образом, каждый игрок на протяжении
                    <br> одной игры может сделать 10 ходов. После того, как все игроки используют все
                    <br> карточки изменения курсов, игра считается законченой. Победитель становится тот,
                    <br> кто накопил наибельший капитал (текущий счет + капитал в акциях по текущему
                    <br> курсу.
                    <br> Ограничения игры:
                    <br> курс акци не может быть ниже 5$ - за акцию;
                    <br> набор карточек для изменения курсов одинаков для всех игроков.
                    <br>
                    <br>
                    <input id="butStart" type="button" value="НАЧАТЬ ИГРУ " />
                    <br>
                    <br>
                    <br>
                    <br>
                </p>
                <p id="gamers" class="hide">
                    <br>
                    <b>  НАЧАЛО ИГРЫ </b>
                    <br>
                    <br>. Введите имана игроков:
                    <br>
                    <br>
                    <br> ИГРОК №1 -
                    <input id="gamer1" type="text" name="" value="Игрок-1">
                    <br>
                    <br>
                    <br>
                    <br> ИГРОК №2-
                    <input id="gamer2" type="text" name="" value="Игрок-2">
                    <br>
                    <br>
                    <br>
                    <br> ИГРОК №3 -
                    <input id="gamer3" type="text" name="" value="Игрок-3">
                    <br>
                    <br>
                    <br>
                    <br> ИГРОК №4 -
                    <input id="gamer4" type="text" name="" value="Игрок-4">
                    <br>
                    <br>
                    <!-- <input id="butNext" type="button" value="ПРОДОЛЖИТЬ " /> -->
                    <br>
                </p>
                
            </div>
            <ul class="analitics">
                <li>прогноз</li>
                <li>коррекции</li>
                <li>курсов</li>
                <li>акций
                    <p>
                    <input class="hide" id="butNext" type="button" value="ПРОДОЛЖИТЬ " />
                    </p>
                </li>
            </ul>
        </div>
        <div class="brokerCards">
            <div class="brokerCard">
                <ul class="shareList">
                    <li>
                        <h1>Имя игрока</h1>
                    </li>
                    <li>
                        <h1>Банковский счет</h1>
                    </li>
                    <li>
                        <p><img src="bukovel.png" /></p>
                    </li>
                    <li>
                        <p><img src="newpost.png" /></p>
                    </li>
                    <li>
                        <p><img src="privat24.png" /></p>
                    </li>
                    <li>
                        <p><img src="kbug.png" /></p>
                    </li>
                </ul>
            </div>
            <div id="br1" class="brokerCard">
                <ul class="shareList">
                    <li>
                        <h1 id="g1">0</h1>
                    </li>
                    <li>
                        <h1 id="c1">Сумма 000</h1>
                    </li>
                    <li>
                        <h2 class="lot1">к-во а</h2>
                    </li>
                    <li>
                        <h2 class="lot2">акций</h2>
                    </li>
                    <li>
                        <h2 class="lot3">к-во акций</h2>
                    </li>
                    <li>
                        <h2 class="lot4">к-во акций</h2>
                    </li>
                </ul>
            </div>
            <div id="br2" class="brokerCard">
                <ul class="shareList">
                    <li>
                        <h1 id="g2">Игрок-2</h1>
                    </li>
                    <li>
                        <h1 id="c2">Сумма 000</h1>
                    </li>
                    <li>
                        <h2 class="lot1">к-во а</h2>
                    </li>
                    <li>
                        <h2 class="lot2">акций</h2>
                    </li>
                    <li>
                        <h2 class="lot3">к-во акций</h2>
                    </li>
                    <li>
                        <h2 class="lot4">к-во акций</h2>
                    </li>
                </ul>
            </div>
            <div id="br3" class="brokerCard">
                <ul class="shareList">
                    <li>
                        <h1 id="g3">Игрок-3</h1>
                    </li>
                    <li>
                        <h1 id="c3">Сумма 000</h1>
                    </li>
                    <li>
                        <h2 class="lot1">к-во а</h2>
                    </li>
                    <li>
                        <h2 class="lot2">акций</h2>
                    </li>
                    <li>
                        <h2 class="lot3">к-во акций</h2>
                    </li>
                    <li>
                        <h2 class="lot4">к-во акций</h2>
                    </li>
                </ul>
            </div>
            <div id="br4" class="brokerCard">
                <ul class="shareList">
                    <li>
                        <h1 id="g4">Игрок-4</h1>
                    </li>
                    <li>
                        <h1 id="c4">Сумма 000</h1>
                    </li>
                    <li>
                        <h2 class="lot1">к-во а</h2>
                    </li>
                    <li>
                        <h2 class="lot2">акций</h2>
                    </li>
                    <li>
                        <h2 class="lot3">к-во акций</h2>
                    </li>
                    <li>
                        <h2 class="lot4">к-во акций</h2>
                    </li>
                </ul>
            </div>
            <div class="brokerCard trade sellLot hide">
                <ul class="shareList">
                    <li>
                        <h1>Продать акции</h1>
                    </li>
                    <li>
                        <h1>Сумма 000</h1>
                    </li>
                    <li>
                        <h2><input class="sell" type="number" name="1" value=""></h2>
                    </li>
                    <li>
                        <h2><input class="sell" type="number" name="2" value=""></h2>
                    </li>
                    <li>
                        <h2><input class="sell" type="number" name="3" value=""></h2>
                    </li>
                    <li>
                        <h2><input class="sell" type="number" name="4" value=""></h2>
                    </li>
                </ul>
            </div>
            <div class="brokerCard trade buyLot hide">
                <ul class="shareList">
                    <li>
                        <h1>Купить акции</h1>
                    </li>
                    <li>
                        <h1>0</h1>
                    </li>
                    <li>
                        <h2><input class="buy" type="number" name="1" value=""></h2>
                    </li>
                    <li>
                        <h2><input class="buy" type="number" name="2" value=""></h2>
                    </li>
                    <li>
                        <h2><input class="buy" type="number" name="3" value=""></h2>
                    </li>
                    <li>
                        <h2><input class="buy" type="number" name="4" value=""></h2>
                    </li>
                </ul>
            </div>
            <div class="brokerCard result hide">
                <ul class="shareList">
                    <li>
                        <h1><input class="hide" id="resultBidding" type="button" name="" value="Результат торгов">
                            <input class="hide" id="changeRating" type="button" name="Изменить курс акций" value="Курс акций">
                        </h1>
                    </li>
                    <li>
                        <h1 id="userCash">Сумма 000</h1>
                    </li>
                    <li>
                        <h2 id="lot1">к-во а</h2>
                    </li>
                    <li>
                        <h2 id="lot2">акций</h2>
                    </li>
                    <li>
                        <h2 id="lot3">к-во акций</h2>
                    </li>
                    <li>
                        <h2 id="lot4">к-во акций</h2>
                    </li>
                </ul>
            </div>
            <div class="cangerLotCards">
                <p>Выбирите одну из имеющихся карточек для изменения курсов акций. Обратите внимание на то, что именения курсов согласно выбранной карточки, должны привести к росту Вашего капитала и ,по возможности, ослабить позиции конкурентов.</p>
                <!-- <ul class="lotCard" id="draggable">
                    <li>
                        <h1 id="">111</h1>
                    </li>
                    <li>
                        <h2 id="">101</h2>
                    </li>
                    <li>
                        <h2 id="">-101</h2>
                    </li>
                    <li>
                        <h2 id="">101</h2>
                    </li>
                    <li>
                        <h2 id="">-301</h2>
                    </li>
                </ul> -->
                <!-- <ul class="lotCard">
                    <li>
                        <h1 id="">1</h1>
                    </li>
                    <li>
                        <h2 id="">10</h2>
                    </li>
                    <li>
                        <h2 id="">-10</h2>
                    </li>
                    <li>
                        <h2 id="">0</h2>
                    </li>
                    <li>
                        <h2 id="">-30</h2>
                    </li>
                </ul> -->
            </div>
        </div>
        <div class="construct hide">
            <ul class="lotCard">
                <li>
                    <h1 id="clc">0</h1>
                </li>
                <li>
                    <h2 id="clc0">0</h2>
                </li>
                <li>
                    <h2 id="clc1">0</h2>
                </li>
                <li>
                    <h2 id="clc2">0</h2>
                </li>
                <li>
                    <h2 id="clc3">0</h2>
                </li>
            </ul>
        </div>
        <!--         <script type="text/javascript">
        var a1 = 10,
            a2 = 20,
            a3 = 30,
            a4 = 40;
        var b1 = 1,
            b2 = 2,
            b3 = 4,
            b4 = -10;
        var ratingLots = [50, 50, 50, 50]; //Цена акций
        var userLots1 = [11, 22, 33, 44, ]; //Количество акций у юзера. Необходим массив для 4-х игроков usersLots
        var userLots2 = [50, 50, 50, 50, ];
        var userLots3 = [11, 22, 33, 44, ];
        var userLots4 = [11, 22, 33, 44, ];
        var userslots = [userLots1, userLots2, userLots3, userLots4];
        var usersCash = [1000, 1000, 1000, 1000];
        var clc1 = [0, 10, 20, 30];
        var clc2 = [30, 20, 10, 0];
        var clc3 = [-20, 20, 0, 0];
        var clc4 = [20, -20, 0, 0];
        var clc5 = [-30, 50, 30, -30];
        var clc6 = [0, -30, -30, 50];
        var clc7 = [40, -20, -30, -40];
        var clc8 = [-20, -10, 20, 10];
        var clc9 = [10, 0, -10, 10];
        var clc10 = [-30, -10, -10, -30];
        var cangerLotCards1 = [clc1, clc2, clc3, clc4, clc5, clc6, clc7, clc8, clc9, clc10];
        var cangerLotCards2 = [clc1, clc2, clc3, clc4, clc5, clc6, clc7, clc8, clc9, clc10];
        var cangerLotCards3 = [clc1, clc2, clc3, clc4, clc5, clc6, clc7, clc8, clc9, clc10];
        var cangerLotCards4 = [clc1, clc2, clc3, clc4, clc5, clc6, clc7, clc8, clc9, clc10];
        var listCangerLotCards = [cangerLotCards1, cangerLotCards2, cangerLotCards3, cangerLotCards4];

        for (var k = 0; k < 2; k++) { //Выбираем игрока
            brokerLots = userslots[k]; //Акции игрока
            cangerLotCards = listCangerLotCards[k]; //Для текущего игрока - Карты изменения курсов акций
            for (let key in cangerLotCards) {
                document.write(key + ': ' + cangerLotCards[key] + '  ');
            };
            for (let key in brokerLots) {
                document.write(key + 'в начале: ' + brokerLots[key] + '<br>');
            };

            var userCash = usersCash[k]; //Наличные деньги игрока
            alert('Сумма наличных игрока  ' + k + ' - ' + userCash);

            for (var i = 0; i < 2; i++) { //Выбираем акционерную компанию
                var userLot = brokerLots[i];
                var ratingLot = ratingLots[i];
                document.write('Количество акций компании ' + i + ' в собственности игрока ' + k + ':  ' + userLot + '<br>');
                document.write('Текущий курс акций компании ' + i + ':  ' + ratingLot + '<br>');

                var trades = {
                    tradeLot: function() {
                        if (actionTrade < = maxLot) {
                            var userL = userLot + actionTrade;

                            if (userL < 0) {
                                userL = userLot;
                                return alert('У Вас не достаточно акций.');
                            }
                            brokerLots[i] = userL;
                            this.accountCash(userCash, actionTrade, ratingLot);
                            alert('Новое количество акций компании ' + i + ' в собственности игрока ' + k + ' - ' + brokerLots[i]);
                            return brokerLots[i];

                        }
                        return alert('У вас не достаточно денег.');

                    },
                    tradeCash: function() {
                        var maxLot = Math.round(userCash / ratingLot);
                        return maxLot;
                    },
                    accountCash: function() {
                        userCash = userCash - actionTrade * ratingLot;
                        alert('Остаток наличных - ' + userCash);
                        return userCash;
                    }
                };

                var maxLot = trades.tradeCash(userCash, ratingLot);
                alert('Доступное количество для покупки - ' + maxLot);
                var actionTrade = +prompt("продажа/покупака акций." + i + " Введите количество ", "");
                trades.tradeLot(actionTrade); //Ход игрока - торги
            };
            usersCash[k] = userCash;
            document.write('Остаток наличных в массиве ' + usersCash[k] + '<br>');
            userslots[k] = brokerLots;
            for (let key in brokerLots) {
                document.write(key + ':новое количество акций ' + brokerLots[key] + '<br>');
            };

            var nextRatingLots = {
                changeRating: function() {
                    var lotCard = cangerLotCards[numberLotCard]; //Выбираем карту для с изменениями курсов
                    for (let key in lotCard) {
                        document.write(key + ':выбраная карта ' + lotCard[key] + '<br>');
                    }
                    for (let key in ratingLots) {
                        var rlk = ratingLots[key] + lotCard[key];
                        if (rlk < 10) {
                            rlk = 5;
                        }
                        ratingLots[key] = rlk;
                        document.write(key + ':новые курсы ' + ratingLots[key] + '<br>');
                    }
                }
            };
            var numberLotCard = +prompt("введите номер карты для изменения курсов акций ", "");
            nextRatingLots.changeRating(numberLotCard); //Ход игрока - изменение курсов акций
        };


        </script> -->
        <script type="text/javascript" src="BrokerGame.js"></script>
</body>

</html>
